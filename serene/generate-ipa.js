'use strict'

function generateIPA (phonology) {
  let rawConsonant = `<table><tr><th><th>Labial<th>Labiodental<th>Dental<th>Alveolar<th>Postalveolar<th>Retroflex<th>Palatal<th>Velar<th>Uvular<th>Pharyngeal<th>Epiglottal<th>Glottal<tr><th>Stop<td><span>p</span> <span>b</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>t</span> <span>d</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>Êˆ</span> <span>É–</span><td><span>c</span> <span>ÉŸ</span><td><span>k</span> <span>g</span><td><span>q</span> <span>g</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>Ê”</span> <span>ğŸ’©</span><tr><th>Fricative<td><span>Î²</span> <span>É¸</span><td><span>f</span> <span>v</span><td><span>Î¸</span> <span>Ã°</span><td><span>s</span> <span>z</span><td><span>Êƒ</span> <span>Ê’</span><td><span>Ê‚</span> <span>Ê</span><td><span>Ã§</span> <span>Ê</span><td><span>x</span> <span>É£</span><td><span>Ï‡</span> <span>Ê</span><td><span>Ä§</span> <span>Ê•</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>h</span> <span>É¦</span><tr><th>Approximant<td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>Ê‹</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>É¹</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>É»</span><td><span>ğŸ’©</span> <span>j</span><td><span>ğŸ’©</span> <span>É°</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><tr><th>Trill<td><span>ğŸ’©</span> <span>b</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>r</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>r</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><tr><th>Tap / Flap<td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>â±±</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>É¾</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>É½</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><tr><th>Nasal<td><span>ğŸ’©</span> <span>m</span><td><span>ğŸ’©</span> <span>É±</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>n</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>É³</span><td><span>ğŸ’©</span> <span>É²</span><td><span>ğŸ’©</span> <span>Å‹</span><td><span>ğŸ’©</span> <span>n</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><tr><th>Lateral Approximant<td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>l</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>É­</span><td><span>ğŸ’©</span> <span>Ê</span><td><span>ğŸ’©</span> <span>l</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><tr><th>Lateral Fricative<td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>É¬</span> <span>É®</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span><td><span>ğŸ’©</span> <span>ğŸ’©</span></table>`
  // let rawVowels = `<table><tr><th><th colspan=2>Front<th colspan=2>Near-front<th colspan=2>Central<th colspan=2>Near-back<th colspan=2>Back<tr><th>High<td><span>i</span><td><span>y</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>É¨</span><td><span>Ê‰</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>É¯</span><td><span>u</span><tr><th>Near-High<td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>Éª</span><td><span>Ê</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td colspan=2><span>ÊŠ</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><tr><th>Mid-High<td><span>e</span><td><span>Ã¸</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>É˜</span><td><span>Éµ</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>É¤</span><td><span>o</span><tr><th>Mid<td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td colspan=2><span>É™</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><tr><th>Mid-Low<td><span>É›</span><td><span>Å“</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>Éœ</span><td><span>É</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ÊŒ</span><td><span>É”</span><tr><th>Near-Low<td><span>ğŸ’©</span><td><span>ğŸ’©</span><td colspan=2><span>Ã¦</span><td colspan=2><span>É</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><tr><th>Low<td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>a</span><td><span>Å“</span><td><span>ğŸ’©</span><td><span>ğŸ’©</span><td><span>É‘</span><td><span>É’</span></table>`
  let range = document.createRange()
  let skeleton = range.createContextualFragment(rawConsonant)

  // blank out all non-phonemes

  // consonants
  let consonantTable = skeleton.firstChild.firstChild
  for (let manner = 1; manner < consonantTable.children.length; manner++) {
    let mannerRow = consonantTable.children[manner]
    for (let place = 1; place < mannerRow.children.length; place++) {
      let cell = mannerRow.children[place]
      for (let voicing = 0; voicing < cell.children.length; voicing++) {
        if (!phonology.exists(new Consonant(place - 1, manner - 1, voicing))) {
          cell.children[voicing].innerHTML = '&nbsp;'
        }
      }
    }
  }

  // TODO: vowels
  return skeleton
}
