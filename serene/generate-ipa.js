'use strict'

function generateIPA (phonology) {
  let rawConsonant = `<table><tr><th><th>Labial<th>Labiodental<th>Dental<th>Alveolar<th>Postalveolar<th>Retroflex<th>Palatal<th>Velar<th>Uvular<th>Pharyngeal<th>Epiglottal<th>Glottal<tr><th>Stop<td><span>p</span> <span>b</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>t</span> <span>d</span><td><span>💩</span> <span>💩</span><td><span>ʈ</span> <span>ɖ</span><td><span>c</span> <span>ɟ</span><td><span>k</span> <span>g</span><td><span>q</span> <span>g</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>ʔ</span> <span>💩</span><tr><th>Fricative<td><span>β</span> <span>ɸ</span><td><span>f</span> <span>v</span><td><span>θ</span> <span>ð</span><td><span>s</span> <span>z</span><td><span>ʃ</span> <span>ʒ</span><td><span>ʂ</span> <span>ʐ</span><td><span>ç</span> <span>ʝ</span><td><span>x</span> <span>ɣ</span><td><span>χ</span> <span>ʁ</span><td><span>ħ</span> <span>ʕ</span><td><span>💩</span> <span>💩</span><td><span>h</span> <span>ɦ</span><tr><th>Approximant<td><span>💩</span> <span>💩</span><td><span>💩</span> <span>ʋ</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>ɹ</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>ɻ</span><td><span>💩</span> <span>j</span><td><span>💩</span> <span>ɰ</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><tr><th>Trill<td><span>💩</span> <span>b</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>r</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>r</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><tr><th>Tap / Flap<td><span>💩</span> <span>💩</span><td><span>💩</span> <span>ⱱ</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>ɾ</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>ɽ</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><tr><th>Nasal<td><span>💩</span> <span>m</span><td><span>💩</span> <span>ɱ</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>n</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>ɳ</span><td><span>💩</span> <span>ɲ</span><td><span>💩</span> <span>ŋ</span><td><span>💩</span> <span>n</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><tr><th>Lateral Approximant<td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>l</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>ɭ</span><td><span>💩</span> <span>ʎ</span><td><span>💩</span> <span>l</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><tr><th>Lateral Fricative<td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>ɬ</span> <span>ɮ</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span><td><span>💩</span> <span>💩</span></table>`
  // let rawVowels = `<table><tr><th><th colspan=2>Front<th colspan=2>Near-front<th colspan=2>Central<th colspan=2>Near-back<th colspan=2>Back<tr><th>High<td><span>i</span><td><span>y</span><td><span>💩</span><td><span>💩</span><td><span>ɨ</span><td><span>ʉ</span><td><span>💩</span><td><span>💩</span><td><span>ɯ</span><td><span>u</span><tr><th>Near-High<td><span>💩</span><td><span>💩</span><td><span>ɪ</span><td><span>ʏ</span><td><span>💩</span><td><span>💩</span><td colspan=2><span>ʊ</span><td><span>💩</span><td><span>💩</span><tr><th>Mid-High<td><span>e</span><td><span>ø</span><td><span>💩</span><td><span>💩</span><td><span>ɘ</span><td><span>ɵ</span><td><span>💩</span><td><span>💩</span><td><span>ɤ</span><td><span>o</span><tr><th>Mid<td><span>💩</span><td><span>💩</span><td><span>💩</span><td><span>💩</span><td colspan=2><span>ə</span><td><span>💩</span><td><span>💩</span><td><span>💩</span><td><span>💩</span><tr><th>Mid-Low<td><span>ɛ</span><td><span>œ</span><td><span>💩</span><td><span>💩</span><td><span>ɜ</span><td><span>ɞ</span><td><span>💩</span><td><span>💩</span><td><span>ʌ</span><td><span>ɔ</span><tr><th>Near-Low<td><span>💩</span><td><span>💩</span><td colspan=2><span>æ</span><td colspan=2><span>ɐ</span><td><span>💩</span><td><span>💩</span><td><span>💩</span><td><span>💩</span><tr><th>Low<td><span>💩</span><td><span>💩</span><td><span>💩</span><td><span>💩</span><td><span>a</span><td><span>œ</span><td><span>💩</span><td><span>💩</span><td><span>ɑ</span><td><span>ɒ</span></table>`
  let range = document.createRange()
  let skeleton = range.createContextualFragment(rawConsonant)

  // blank out all non-phonemes

  // consonants
  let consonantTable = skeleton.firstChild.firstChild
  for (let manner = 1; manner < consonantTable.children.length; manner++) {
    let mannerRow = consonantTable.children[manner]
    for (let place = 1; place < mannerRow.children.length; place++) {
      let cell = mannerRow.children[place]
      for (let voicing = 0; voicing < cell.children.length; voicing++) {
        if (!phonology.exists(new Consonant(place - 1, manner - 1, voicing))) {
          cell.children[voicing].innerHTML = '&nbsp;'
        }
      }
    }
  }

  // TODO: vowels
  return skeleton
}
